(window.webpackJsonp=window.webpackJsonp||[]).push([[64,63],{1090:function(t,e,o){var content=o(1118);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(345).default)("2b5589ca",content,!0,{sourceMap:!1})},1113:function(t,e,o){"use strict";o.r(e);o(8),o(13);var n=o(2),c=o(3),l=o(7),r=o(10),f=o(4),d=o(0),h=o(1069);function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=Object(f.a)(t);if(e){var c=Object(f.a)(this).constructor;o=Reflect.construct(n,arguments,c)}else o=n.apply(this,arguments);return Object(r.a)(this,o)}}var m=function(t){Object(l.a)(o,t);var e=v(o);function o(){var t;return Object(n.a)(this,o),(t=e.apply(this,arguments)).isOpen=!1,t}return Object(c.a)(o,[{key:"close",value:function(){this.isOpen=!1,document.documentElement.classList.add("u-overflow-initial"),this.disableScrolling&&document.body.classList.remove("u-overflow-hidden")}},{key:"open",value:function(){this.isOpen=!0,this.disableScrolling&&document.body.classList.add("u-overflow-hidden")}}]),o}(o(24).default);Object(d.c)([Object(h.Prop)({required:!1,type:String,default:""}),Object(d.f)("design:type",String)],m.prototype,"additionalClasses",void 0),Object(d.c)([Object(h.Prop)({required:!1,type:Boolean,default:!1}),Object(d.f)("design:type",Boolean)],m.prototype,"disableScrolling",void 0),Object(d.c)([Object(h.Prop)({type:Boolean,default:!1}),Object(d.f)("design:type",Boolean)],m.prototype,"enableClickableBackdrop",void 0),Object(d.c)([Object(h.Prop)({type:Boolean,default:!0}),Object(d.f)("design:type",Boolean)],m.prototype,"showBackdrop",void 0),Object(d.c)([Object(h.Prop)({type:Boolean,default:!0}),Object(d.f)("design:type",Boolean)],m.prototype,"showCloseButton",void 0);var y=m=Object(d.c)([h.Component],m),w=(o(1117),o(166)),component=Object(w.a)(y,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"c-globalModal",class:{"c-globalModal_isOpen":t.isOpen,"c-globalModal_isClickable":t.enableClickableBackdrop}},[t.showBackdrop?e("div",{staticClass:"c-globalModal_backdrop",on:{click:t.close}}):t._e(),t._v(" "),e("div",{staticClass:"c-globalModal_contentWrapper"},[e("div",{staticClass:"c-globalModal_content",class:t.additionalClasses},[t.showCloseButton?e("svg",{staticClass:"c-globalModal_close g-fill-white",on:{click:t.close}},[e("use",{attrs:{"xlink:href":"#close"}})]):t._e(),t._v(" "),t._t("default")],2)])])}),[],!1,null,null,null);e.default=component.exports},1117:function(t,e,o){"use strict";o(1090)},1118:function(t,e,o){var n=o(344)((function(i){return i[1]}));n.push([t.i,".c-globalModal{--content-max-width: calc(100vw - 20px);display:none;height:100vh;left:0;position:fixed;top:0;width:100vw;z-index:5999999}.c-globalModal_isClickable{pointer-events:none}.c-globalModal_backdrop{background:#000;height:100%;left:0;opacity:.6;position:absolute;top:0;width:100%}.c-globalModal .c-globalModal_close{background:#000;border:2px solid #fff;border-radius:50%;cursor:pointer;height:24px;padding:4px;pointer-events:all;position:absolute;right:-10px;stroke:#fff;stroke-width:2px;top:-10px;width:1.5rem;z-index:1}.c-globalModal_content{background:#fff;box-shadow:rgba(0,0,0,.5) 0 0 10px;position:relative;max-width:var(--content-max-width);pointer-events:all}.c-globalModal_contentWrapper{align-items:center;display:flex;height:100%;justify-content:center;width:100%}.c-globalModal_isOpen{display:block}",""]),n.locals={},t.exports=n},1119:function(t,e,o){"use strict";o.d(e,"a",(function(){return w}));o(8),o(13);var n=o(2),c=o(3),l=o(7),r=o(10),f=o(4),d=o(0),h=o(65),v=o(69),m=o(51);function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=Object(f.a)(t);if(e){var c=Object(f.a)(this).constructor;o=Reflect.construct(n,arguments,c)}else o=n.apply(this,arguments);return Object(r.a)(this,o)}}var w=function(t){Object(l.a)(o,t);var e=y(o);function o(t){var c;return Object(n.a)(this,o),(c=e.call(this,t)).services=["tagular"],c}return Object(c.a)(o,[{key:"defaults",get:function(){return{"@type":"redventures.usertracking.v3.ElementViewed"}}}]),o}(o(97).a);w=Object(d.c)([Object(h.a)(m.a.Transient),Object(d.g)(0,v.a),Object(d.f)("design:paramtypes",[Object])],w)},1540:function(t,e,o){var content=o(1925);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(345).default)("ce506ef2",content,!0,{sourceMap:!1})},1924:function(t,e,o){"use strict";o(1540)},1925:function(t,e,o){var n=o(344)((function(i){return i[1]}));n.push([t.i,".c-globalNotification_modal{padding:1.5rem;box-shadow:0 2px 16px rgba(0,0,0,.08),0 24px 32px rgba(0,0,0,.16);border-radius:0 0 .25rem .25rem}@media(max-width: 767px){.c-globalNotification_modal{flex-direction:column;border-radius:.25rem}}.c-globalNotification svg{width:28px;height:28px;flex:0 0 28px}@media(max-width: 767px){.c-globalNotification_bts{white-space:nowrap;margin-top:1.5rem;width:100%;flex-direction:column-reverse}.c-globalNotification_bts-accept{width:100%}.c-globalNotification_bts-dismiss{padding-top:1rem}.c-globalNotification_bts a{margin-left:0}}.c-globalNotification_msg{font-family:sentinel,serif;font-weight:400;letter-spacing:-0.032em;word-spacing:.15em;font-size:1rem;line-height:1.375rem}@media(min-width: 768px){.c-globalNotification .c-globalModal{height:fit-content}}",""]),n.locals={},t.exports=n},2101:function(t,e,o){"use strict";o.r(e);o(13);var n=o(11),c=o(2),l=o(3),r=o(7),f=o(10),d=o(4),h=(o(8),o(63),o(87),o(60),o(0)),v=o(1069),m=o(449),y=o(1119),w=o(17),x=o(1113),O=o(1073);function _(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=Object(d.a)(t);if(e){var c=Object(d.a)(this).constructor;o=Reflect.construct(n,arguments,c)}else o=n.apply(this,arguments);return Object(f.a)(this,o)}}var j=new w.b("GlobalNotification"),k=function(t){Object(r.a)(d,t);var e,o,f=_(d);function d(){return Object(c.a)(this,d),f.apply(this,arguments)}return Object(l.a)(d,[{key:"showHideModal",value:function(){var t=this;j.log("showHideModal");var e="true"===sessionStorage.getItem("notif_prompt_shown");this.$scripts.onWindowReady("UA").then((function(){var o,n,c=t.sessionPageViews||0;!e&&c>2&&"Notification"in window&&"default"===(null===Notification||void 0===Notification?void 0:Notification.permission)?(null===(o=t.$refs.globalNotificationModal)||void 0===o||o.open(),t.trackElementViewed()):null===(n=t.$refs.globalNotificationModal)||void 0===n||n.close()}))}},{key:"allowNotifications",value:function(){var t,e=this;this.trackClick("allow"),null===(t=this.$refs.globalNotificationModal)||void 0===t||t.close(),"Notification"in window?"denied"!==(null===Notification||void 0===Notification?void 0:Notification.permission)&&Notification.requestPermission().then((function(t){"granted"===t&&e.$urbanAirship.register()})):j.log("This browser does not support desktop notification")}},{key:"dismissNotifications",value:function(){var t;this.trackClick("dismiss"),null===(t=this.$refs.globalNotificationModal)||void 0===t||t.close()}},{key:"permissionChange",value:(o=Object(n.a)(regeneratorRuntime.mark((function t(){var e,o,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null===(e=null===navigator||void 0===navigator?void 0:navigator.permissions)||void 0===e?void 0:e.query)){t.next=5;break}return t.next=3,navigator.permissions.query({name:"notifications"});case 3:(o=t.sent).onchange=function(){j.log("Notification status is",o.state),n.$nuxt.$emit("notif-perm-change"),"granted"===o.state&&(j.log("Registering UA (Airship)"),n.$urbanAirship.register())};case 5:case"end":return t.stop()}}),t)}))),function(){return o.apply(this,arguments)})},{key:"trackClick",value:function(t){this.$track(m.a).with({webElement:{elementType:"BUTTON",location:"MODAL",name:"cnet-notification-"+t,text:this.$t("notifications").toString()}}).fire()}},{key:"trackElementViewed",value:function(){sessionStorage.setItem("notif_prompt_shown","true"),this.$track(y.a).with({webElement:{elementType:"BUTTON",location:"MODAL",name:"cnet-notification-modal",text:this.$t("notifications").toString()}}).fire()}},{key:"mounted",value:(e=Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.showHideModal(),t.next=3,this.permissionChange();case 3:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),d}(v.Vue);Object(h.c)([Object(v.Getter)("tracking/sessionPageViews"),Object(h.f)("design:type",Number)],k.prototype,"sessionPageViews",void 0),Object(h.c)([Object(v.Watch)("sessionPageViews"),Object(h.f)("design:type",Function),Object(h.f)("design:paramtypes",[]),Object(h.f)("design:returntype",void 0)],k.prototype,"showHideModal",null);var N=k=Object(h.c)([Object(v.Component)({components:{GlobalModal:x.default,GlobalSvgIcon:O.default}})],k),M=(o(1924),o(166)),component=Object(M.a)(N,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"c-globalNotification"},[e("GlobalModal",{ref:"globalNotificationModal",attrs:{"enable-clickable-backdrop":!0,"show-backdrop":!1,"show-close-button":!1,"additional-classes":"\n      c-globalNotification_modal\n      u-flexbox\n      u-flexbox-alignCenter\n    "}},[e("div",{staticClass:"c-globalNotification_msg u-flexbox u-flexbox-alignCenter"},[e("GlobalSvgIcon",{staticClass:"g-outer-spacing-right-medium",attrs:{id:"notification"}}),t._v(" "),e("span",[t._v(t._s(t.$t("notifications")))])],1),t._v(" "),e("div",{staticClass:"c-globalNotification_bts u-flexbox u-flexbox-alignCenter"},[e("a",{staticClass:"c-globalNotification_bts-dismiss g-outer-spacing-left-xlarge g-text-xxsmall",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.dismissNotifications.apply(null,arguments)}}},[t._v(t._s(t.$t("no_thankyou")))]),t._v(" "),e("a",{staticClass:"c-globalNotification_bts-accept g-outer-spacing-left-medium u-flex-grow o-button o-button-medium o-button-smallRound o-button-primary",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.allowNotifications.apply(null,arguments)}}},[t._v(t._s(t.$t("accept")))])])])],1)}),[],!1,null,null,null);e.default=component.exports}}]);
//# sourceMappingURL=693b1bd.js.map