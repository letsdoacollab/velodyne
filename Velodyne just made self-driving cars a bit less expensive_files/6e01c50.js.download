(window.webpackJsonp=window.webpackJsonp||[]).push([[156],{1258:function(t,e,n){var content=n(1316);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(345).default)("00adf137",content,!0,{sourceMap:!1})},1315:function(t,e,n){"use strict";n(1258)},1316:function(t,e,n){var o=n(344)((function(i){return i[1]}));o.push([t.i,".c-udsInterestBell{cursor:pointer}.c-udsInterestBell_icon{display:block;height:1rem;position:relative;top:.125rem;width:1rem}.c-udsInterestBell:hover .c-udsInterestBell_icon{fill:#e71d1d}",""]),o.locals={},t.exports=o},1362:function(t,e,n){"use strict";n(8),n(13);var o=n(11),r=n(2),c=n(3),l=n(7),f=n(10),d=n(4),h=(n(60),n(22),n(0)),v=n(1069),x=n(24),m=n(33);function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(d.a)(t);if(e){var r=Object(d.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(f.a)(this,n)}}var w=function(t){Object(l.a)(f,t);var e,n=y(f);function f(){var t;return Object(r.a)(this,f),(t=n.apply(this,arguments)).togglePromise=null,t}return Object(c.a)(f,[{key:"beforeMount",value:function(){this.$store.dispatch("uds/interests/bind")}},{key:"hasInterest",get:function(){return!!this.allInterests&&!!this.allInterests.active_map[this.interest.id]}},{key:"toggleInterest",value:(e=Object(o.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.togglePromise){t.next=2;break}return t.abrupt("return",this.togglePromise);case 2:return e={implicit:!1,date_created:Date.now(),type:this.interest.type,interest_name:this.interest.name,interest_id:this.interest.id,active:!this.hasInterest,should_fire_tracking:!1,site:m.site,edition:this.$store.getters.edition},this.togglePromise=this.$store.dispatch("uds/interests/addInterest",e),t.next=6,this.togglePromise;case 6:this.togglePromise=null;case 7:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),f}(x.default);Object(h.c)([Object(v.Getter)("uds/interests/all"),Object(h.f)("design:type",Object)],w.prototype,"allInterests",void 0),Object(h.c)([Object(v.Prop)({required:!0}),Object(h.f)("design:type",Object)],w.prototype,"interest",void 0);var O=w=Object(h.c)([v.Component],w),j=(n(1315),n(166)),component=Object(j.a)(O,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"c-udsInterestBell",on:{click:t.toggleInterest}},[e("svg",{staticClass:"c-udsInterestBell_icon"},[e("use",{attrs:{href:t.hasInterest?"#notification-activated":"#notification"}})])])}),[],!1,null,null,null);e.a=component.exports},1454:function(t,e,n){var content=n(1753);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(345).default)("7aea66d2",content,!0,{sourceMap:!1})},1752:function(t,e,n){"use strict";n(1454)},1753:function(t,e,n){var o=n(344)((function(i){return i[1]}));o.push([t.i,".c-udsTopicFollow svg{width:13px;height:13px;flex:0 0 13px;fill:#737373;margin-bottom:1px}.c-udsTopicFollow span{color:#737373;cursor:pointer;padding:4px 8px 3px;line-height:6px;border-radius:24px;border:1px solid #e71d1d;text-transform:capitalize;transition:all 200ms cubic-bezier(0.45, 0, 0.4, 1)}.c-udsTopicFollow span:hover{border:1px solid #dadada}.c-udsTopicFollow.c-udsTopicFollow_active span{border:1px solid #dadada}",""]),o.locals={},t.exports=o},2135:function(t,e,n){"use strict";n.r(e);n(8),n(13);var o=n(2),r=n(3),c=n(7),l=n(10),f=n(4),d=n(0),h=n(1069),v=n(1073);function x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(f.a)(t);if(e){var r=Object(f.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(l.a)(this,n)}}var m=function(t){Object(c.a)(n,t);var e=x(n);function n(){var t;return Object(o.a)(this,n),(t=e.apply(this,arguments)).notifPermGranted=!1,t}return Object(r.a)(n,[{key:"followText",get:function(){return this.hasInterest?this.$t("following"):this.$t("follow")}},{key:"showFollowButton",get:function(){return this.interest&&this.notifPermGranted}},{key:"checkNotifPermission",value:function(){"Notification"in window&&"granted"===(null===Notification||void 0===Notification?void 0:Notification.permission)&&(this.notifPermGranted=!0)}},{key:"mounted",value:function(){this.checkNotifPermission(),this.$nuxt.$on("notif-perm-change",this.checkNotifPermission)}}]),n}(n(1362).a),y=m=Object(d.c)([Object(h.Component)({components:{GlobalSvgIcon:v.default}})],m),w=(n(1752),n(166)),component=Object(w.a)(y,(function(){var t=this,e=t._self._c;t._self._setupProxy;return t.showFollowButton?e("div",{staticClass:"c-udsTopicFollow g-text-xxxsmall u-flexbox",class:{"c-udsTopicFollow_active":t.hasInterest},on:{click:function(e){return e.preventDefault(),t.toggleInterest.apply(null,arguments)}}},[e("span",{staticClass:"u-flexbox u-flexbox-alignCenter"},[t._v("\n    "+t._s(t.followText)+"\n    "),e("GlobalSvgIcon",{staticClass:"g-outer-spacing-left-xsmall",attrs:{id:t.hasInterest?"check-mark":"plus"}})],1)]):t._e()}),[],!1,null,null,null);e.default=component.exports}}]);
//# sourceMappingURL=6e01c50.js.map